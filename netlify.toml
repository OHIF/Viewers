# https://www.netlify.com/docs/netlify-toml-reference/

[build]
  # Directory (relative to root of your repo) that contains the deploy-ready
  # HTML files and assets generated by the build. If a base directory has
  # been specified, include it in the publish directory path.
  publish = "docs/latest/_book/"

# COMMENT: NODE_VERSION in root `.nvmrc` takes priority
# COMMENT: Why we specify YARN_FLAGS: https://www.netlify.com/docs/build-gotchas/#yarn
[build.environment]
  NODE_VERSION = "10.15.3"
  YARN_VERSION = "1.15.2"
  YARN_FLAGS = "--no-ignore-optional --pure-lockfile"

# COMMENT: This a rule for Single Page Applications
[[redirects]]
  from = "/demo/*"
  to = "/demo/index.html"
  status = 200

[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200
