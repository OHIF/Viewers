<template name="studyTimepointStudy">
    {{#let isSidebar=(isUndefined viewportIndex)}}
        <div class="studyTimepointStudy {{#if isSidebar}}studySidebarTimepoint{{else}}studyQuickSwitchTimepoint{{/if}} {{#if this.active}}active{{/if}} {{#if isLoading}}loading{{/if}}" data-uid="{{this.study.studyInstanceUid}}">
            <div class="studyItem">
                {{#if isLoading}}
                    {{>loadingText}}
                {{/if}}
                <div class="studyModality">
                    <div class="studyModalityBox">
                        <div class="studyModalityText" style="{{modalityStyle}}">
                            {{#if instance.modalities}}
                                {{modalities}}
                            {{else}}
                                UN
                            {{/if}}
                        </div>
                    </div>
                    <div class="studyText">
                        <div class="studyDate">{{formatDA instance.studyDate 'D-MMM-YYYY'}}</div>
                        <div class="studyDescription">{{instance.studyDescription}}</div>
                    </div>
                </div>
            </div>
            {{#if isSidebar}}
                <div class="studyTimepointThumbnails">
                    {{#each thumbnail in (studyThumbnails this.study)}}
                        {{>thumbnailEntry (clone this thumbnail=thumbnail)}}
                    {{/each}}
                </div>
            {{/if}}
        </div>
    {{/let}}
</template>
