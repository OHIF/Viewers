<template name="pipelineInformationForm">
    {{#form class='pipeline-information-form' schema=instance.currentSchema api=this.api}}
        {{>inputHidden key='_id'}}
        <div class="row">
            {{#if (eq this.mode.get 'edit')}}
                <div class="col-lg-1">
                    {{>inputText labelClass='form-group' key='id' disabled=true}}
                </div>
            {{/if}}
            <div class="{{#if (eq this.mode.get 'edit')}}col-lg-11{{else}}col-lg-12{{/if}}">
                {{>inputText labelClass='form-group' key='name'}}
            </div>
        </div>
        <hr>
        <div class="row">
            <h3 class="col-lg-11">Filters</h3>
            <div class="col-lg-1 btn-group" role="group" aria-label="Add">
                {{#button class='mt-5 btn btn-md btn-success' action='addFilter' params=pipeline title='Add'}}
                    <i class="fa fa-plus"></i>
                {{/button}}
            </div>
        </div>
        <table id="tblFilter" class="table">
            <thead>
            <tr>
                <th>Name</th>
                <th class="text-right">Actions</th>
            </tr>
            </thead>
            <tbody>
                {{#each filter in this.currentItem.get.pipelineDto.filters}}
                    <tr>
                        <td>{{filter.filterClass}}</td>
                        <td class="text-right">
                            <div class="btn-group" role="group" aria-label="Actions">
                                {{#button class='btn btn-sm btn-default' action='editFilter' params=(concat @index) title='Edit'}}
                                    <i class="fa fa-pencil"></i>
                                {{/button}}
                                {{#button class='btn btn-sm btn-danger' action='deleteFilter' params=pipeline title='Remove'}}
                                    <i class="fa fa-trash"></i>
                                {{/button}}
                            </div>
                        </td>
                    </tr>
                {{else}}
                    <tr>
                        <td class="text-center" colspan="3">No Filters associated to pipeline</td>
                    </tr>
                {{/each}}
            </tbody>
        </table>
        <div>
            {{#button class='btn btn-primary' action='save'}}Save{{/button}}
        </div>
    {{/form}}
</template>
